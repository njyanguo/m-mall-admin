<ion-view view-title="{{title}}">
    <ion-content ng-class="{'no-footer': tabsHidden}">
        <form name="form" ng-submit="vm.submitForm(form.$valid)" novalidate>
            <div class="weui-cells__title">商品分类类别</div>
            <div class="weui-cells weui-cells_form">
                <div class="weui-cell">
                    <div class="weui-cell__hd">
                        <label class="weui-label">名称</label>
                    </div>
                    <div class="weui-cell__bd">
                        <input name="name" class="weui-input" type="text" placeholder="名称" ng-model="vm.form.name" required>
                    </div>
                </div>
                <div class="weui-cell">
                    <div class="weui-cell__hd">
                        <label class="weui-label">数量</label>
                    </div>
                    <div class="weui-cell__bd">
                        <input name="quantity" class="weui-input" type="text" placeholder="数量(个)" ng-model="vm.form.quantity" ng-change="vm.changeRemind()" required >
                    </div>
                </div>
                <div class="weui-cell" ng-if="vm.form.remindNum">
                    <div class="weui-cell__hd">
                        <label class="weui-label">剩余</label>
                    </div>
                    <div class="weui-cell__bd">
                        <input name="remindNum" class="weui-input" type="text" placeholder="剩余(个)" ng-model="vm.form.remindNum" required disabled="disabled">
                    </div>
                </div>
                <div class="weui-cell">
                    <div class="weui-cell__bd">
                        <textarea name="remark" class="weui-textarea" placeholder="简介" rows="6" ng-model="vm.form.remark" required></textarea>
                    </div>
                </div>
            </div>
            <div class="weui-cells weui-cells_form">
                <div class="weui-cell">
                    <div class="weui-cell__bd">
                        <div class="weui-uploader">
                            <div class="weui-uploader__hd">
                                <p class="weui-uploader__title">图片上传</p>
                                <div class="weui-uploader__info">{{ vm.form.images.length }}/{{ vm.max }}</div>
                            </div>
                            <div class="weui-uploader__bd">
                                <ul class="weui-uploader__files">
                                    <li class="weui-uploader__file" style="background-image:url({{item.path}})" ng-repeat="item in vm.form.images track by $index" on-tap="vm.showGallery(item._id, $index)"></li>
                                </ul>
                                <div class="weui-uploader__input-box" ng-hide="vm.form.images.length === vm.max">
                                    <input class="weui-uploader__input" name="file" type="file" accept="image/jpg,image/jpeg,image/png,image/gif" weui-file-model="vm.file" file-fn="vm.getFile()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="weui-btn-area">
                <button type="submit" class="weui-btn weui-btn_primary">保存</button>
            </div>
        </form>
    </ion-content>
</ion-view>